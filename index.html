<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chatbot Widget Demo</title>
  <link rel="stylesheet" href="./src/chatbot.css" />
</head>
<body>
  <h1 style="font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; padding: 16px;">Chatbot Widget Demo</h1>
  <p style="font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; padding: 0 16px 24px; max-width: 720px;">
    This page demonstrates a backend-agnostic, vanilla JavaScript chatbot widget that floats in the bottom-right corner. Toggle demoMode in the settings below to switch between a fake backend and your real endpoints.
  </p>

  <div id="chatbot-anchor"
       data-chatbot-settings='{
         "demoMode": true,
         "pollForMessages": 10000,
         "canStartMultipleConversations": true,
         "channels": {
           "sms": true,
           "whatsapp": { "enabledUntil": "2025-09-24T12:34:54Z" },
           "email": true
         },
         "fileUpload": {
           "maxFilesPerMessage": 10,
           "maxFileSizeSingleFile": 10000000,
           "limitFileTypes": ["png","jpg","pdf","xls","gif","jpeg"]
         },
         "urls": {
           "listMessages": "/api/messages/index.php?since={timestamp}",
           "sendMessage": "/api/messages/send.php",
           "editMessage": "/api/messages/edit.php",
           "deleteMessage": "/api/messages/delete.php",
           "canEditMessage": "/api/messages/canEdit.php",
           "canDeleteMessage": "/api/messages/canDelete.php",
           "uploadFile": "/api/files/upload.php",
           "saveDraft": "/api/messages/draft.php",
           "getDraft": "/api/messages/draft.php?conversationId={conversationId}",
           "addParticipant": "/api/conversations/addParticipant.php",
           "removeParticipant": "/api/conversations/removeParticipant.php",
           "startConversation": "/api/conversations/start.php",
           "markAsRead": "/api/messages/markAsRead.php",
           "searchUsers": "/api/users/search.php?q={query}"
         }
       }'>
  </div>

  <script type="module" src="./src/chatbot.js"></script>
</body>
</html>
